<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Strict//EN">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
		<title>JSFastPack</title>
		
		<!-- styles -->
		<link href="JSFastPack.css" rel="stylesheet" media="screen">
		
		<!-- scripts -->
		<script language="javascript" src="JSFastPack.js"></script>
		<script language="javascript">
			function pack()
			{
				var src			= document.getElementById('source');
				var dest		= document.getElementById('result');
				dest.value		= '';
				var text		= src.value;
				var start		= new Date();
				var slen		= text.length;
				var result		= JSFastPack(text);
				var elapsed		= new Date() - start;
				var prate		= Math.floor(slen * (1000 / elapsed) / 1000) / 1000;
				var rlen		= result.length;
				var rsaved		= slen - rlen;
				var rpercent	= Math.round(10000 * rsaved / slen) / 100;
				var obj;		
				
				dest.value		= result;
				
				obj				= document.getElementById('elapsed');
				obj.innerHTML	= elapsed + 'ms';
				
				obj				= document.getElementById('prate');
				obj.innerHTML	= prate + ' MB/s';
				
				obj				= document.getElementById('ssize');
				obj.innerHTML	= slen;
				
				obj				= document.getElementById('rsize');
				obj.innerHTML	= rlen;
				
				obj				= document.getElementById('bsaved');
				obj.innerHTML	= rsaved;
				
				obj				= document.getElementById('psaved');
				obj.innerHTML	= rpercent;
			}
		</script>
		
	</head>
	<body>
		<div class='baseBlock'>
			<p class='title'>JSFastPack Demo</p>
			<p class='infoBlock'>JSFastPack is an in-browser Javascript minification utility specifically designed for speed. It deletes comments and extraneous whitespace, but doesn't yet offer fancier options like variable substitution.</p>
			<div class='leftBlock'>
				<p class='boldHeader'>Paste source code here</p>
				<textarea class='textBlock' id='source'></textarea>
				<button onclick='pack()'>Pack</button>
			</div>
			<div class='rightBlock'>
				<p class='boldHeader'>Packed result</p>
				<textarea class='textBlock' id='result'></textarea>
			
				<p class='stats'>
					Elapsed: <span id='elapsed' class='values'></span><br>
					Pack rate: <span id='prate' class='values'></span><br>
					Source bytes: <span id='ssize' class='values'></span><br>
					Result bytes: <span id='rsize' class='values'></span><br>
					Saved bytes : <span id='bsaved' class='values'></span><br>
					Saved percent: <span id='psaved' class='values'></span>
				</p> 
			</div>
		</div>
	</body>
</html>